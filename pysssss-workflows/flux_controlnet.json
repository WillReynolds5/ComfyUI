{"last_node_id": 149, "last_link_id": 197, "nodes": [{"id": 94, "type": "VAEDecode", "pos": {"0": 5740, "1": -40}, "size": {"0": 210, "1": 46}, "flags": {}, "order": 30, "mode": 0, "inputs": [{"name": "samples", "type": "LATENT", "link": 128, "label": "samples"}, {"name": "vae", "type": "VAE", "link": 129, "label": "vae"}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [186], "slot_index": 0, "label": "IMAGE"}], "properties": {"Node name for S&R": "VAEDecode"}, "widgets_values": []}, {"id": 95, "type": "VAELoader", "pos": {"0": 5330, "1": -40}, "size": {"0": 315, "1": 58}, "flags": {}, "order": 0, "mode": 0, "inputs": [], "outputs": [{"name": "VAE", "type": "VAE", "links": [129], "slot_index": 0, "shape": 3, "label": "VAE"}], "properties": {"Node name for S&R": "VAELoader"}, "widgets_values": ["ae.safetensors"]}, {"id": 99, "type": "KSamplerSelect", "pos": {"0": 5330, "1": 310}, "size": {"0": 315, "1": 58}, "flags": {}, "order": 1, "mode": 0, "inputs": [], "outputs": [{"name": "SAMPLER", "type": "SAMPLER", "links": [132], "shape": 3, "label": "SAMPLER"}], "properties": {"Node name for S&R": "KSamplerSelect"}, "widgets_values": ["dpmpp_2m"]}, {"id": 101, "type": "RandomNoise", "pos": {"0": 5330, "1": 70}, "size": {"0": 315, "1": 82}, "flags": {}, "order": 2, "mode": 0, "inputs": [], "outputs": [{"name": "NOISE", "type": "NOISE", "links": [130], "shape": 3, "label": "NOISE"}], "properties": {"Node name for S&R": "RandomNoise"}, "widgets_values": [999999, "fixed"]}, {"id": 106, "type": "AIO_Preprocessor", "pos": {"0": 3976.798583984375, "1": 65.72010040283203}, "size": {"0": 315, "1": 82}, "flags": {}, "order": 15, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 179, "label": "image"}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [151, 174], "slot_index": 0, "shape": 3, "label": "IMAGE"}], "properties": {"Node name for S&R": "AIO_Preprocessor"}, "widgets_values": ["CannyEdgePreprocessor", 1024], "color": "#332922", "bgcolor": "#593930"}, {"id": 108, "type": "ConditioningZeroOut", "pos": {"0": 4987, "1": 248}, "size": {"0": 282.6841125488281, "1": 26}, "flags": {}, "order": 19, "mode": 0, "inputs": [{"name": "conditioning", "type": "CONDITIONING", "link": 144, "label": "conditioning"}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [140], "slot_index": 0, "shape": 3, "label": "CONDITIONING"}], "properties": {"Node name for S&R": "ConditioningZeroOut"}, "widgets_values": [], "color": "#322", "bgcolor": "#533"}, {"id": 109, "type": "BasicGuider", "pos": {"0": 5330, "1": 210}, "size": {"0": 308.834228515625, "1": 46}, "flags": {}, "order": 28, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 196, "slot_index": 0, "label": "model"}, {"name": "conditioning", "type": "CONDITIONING", "link": 146, "slot_index": 1, "label": "conditioning"}], "outputs": [{"name": "GUIDER", "type": "GUIDER", "links": [131], "slot_index": 0, "shape": 3, "label": "GUIDER"}], "properties": {"Node name for S&R": "BasicGuider"}, "widgets_values": []}, {"id": 113, "type": "ImpactSwitch", "pos": {"0": 4675, "1": 272}, "size": {"0": 244.72377014160156, "1": 138}, "flags": {}, "order": 12, "mode": 0, "inputs": [{"name": "input1", "type": "CONTROL_NET", "link": 150, "label": "input1", "shape": 7}, {"name": "input2", "type": "CONTROL_NET", "link": 154, "label": "input2"}, {"name": "input3", "type": "CONTROL_NET", "link": 155, "label": "input3"}, {"name": "input4", "type": "CONTROL_NET", "link": null, "label": "input4"}, {"name": "select", "type": "INT", "link": 193, "widget": {"name": "select"}, "label": "select"}], "outputs": [{"name": "CONTROL_NET", "type": "CONTROL_NET", "links": [152], "slot_index": 0, "shape": 3, "label": "CONTROL_NET"}, {"name": "selected_label", "type": "STRING", "links": null, "shape": 3, "label": "selected_label"}, {"name": "selected_index", "type": "INT", "links": null, "shape": 3, "label": "selected_index"}], "title": "ControlNet Model", "properties": {"Node name for S&R": "ImpactSwitch"}, "widgets_values": [1, false]}, {"id": 121, "type": "AIO_Preprocessor", "pos": {"0": 3916.8603515625, "1": 1327.7034912109375}, "size": {"0": 315, "1": 82}, "flags": {}, "order": 16, "mode": 2, "inputs": [{"name": "image", "type": "IMAGE", "link": 181, "label": "image"}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [157, 173], "slot_index": 0, "shape": 3, "label": "IMAGE"}], "properties": {"Node name for S&R": "AIO_Preprocessor"}, "widgets_values": ["HEDPreprocessor", 1024], "color": "#223", "bgcolor": "#335"}, {"id": 131, "type": "ImageScaleBy", "pos": {"0": 4631, "1": 681}, "size": {"0": 312.6969299316406, "1": 82}, "flags": {}, "order": 17, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 184, "label": "image"}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [171], "slot_index": 0, "shape": 3, "label": "IMAGE"}], "properties": {"Node name for S&R": "ImageScaleBy"}, "widgets_values": ["nearest-exact", 0.5]}, {"id": 132, "type": "PreviewImage", "pos": {"0": 4259.39990234375, "1": 1197.7164306640625}, "size": {"0": 247.56002807617188, "1": 523.4274291992188}, "flags": {}, "order": 23, "mode": 2, "inputs": [{"name": "images", "type": "IMAGE", "link": 173, "label": "images"}], "outputs": [], "properties": {"Node name for S&R": "PreviewImage"}, "widgets_values": []}, {"id": 133, "type": "PreviewImage", "pos": {"0": 4323.943359375, "1": -76.46829986572266}, "size": {"0": 247.56002807617188, "1": 523.4274291992188}, "flags": {}, "order": 21, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 174, "label": "images"}], "outputs": [], "properties": {"Node name for S&R": "PreviewImage"}, "widgets_values": []}, {"id": 141, "type": "Note", "pos": {"0": 3464.918701171875, "1": 903.571533203125}, "size": {"0": 300.9004821777344, "1": 109.08709716796875}, "flags": {}, "order": 3, "mode": 0, "inputs": [], "outputs": [], "properties": {"text": ""}, "widgets_values": ["\nControl selector_wixoss, \n\n1. Cnny\n2. Depth \n3. Hed "], "color": "#432", "bgcolor": "#653"}, {"id": 127, "type": "PreviewImage", "pos": {"0": 4322, "1": 538}, "size": {"0": 247.56002807617188, "1": 523.4274291992188}, "flags": {}, "order": 25, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 190, "label": "images"}], "outputs": [], "properties": {"Node name for S&R": "PreviewImage"}, "widgets_values": []}, {"id": 104, "type": "ControlNetLoader", "pos": {"0": 3976, "1": -56}, "size": {"0": 318.45263671875, "1": 58.0374641418457}, "flags": {}, "order": 4, "mode": 0, "inputs": [], "outputs": [{"name": "CONTROL_NET", "type": "CONTROL_NET", "links": [150], "slot_index": 0, "shape": 3, "label": "CONTROL_NET"}], "properties": {"Node name for S&R": "ControlNetLoader"}, "widgets_values": ["flux/flux-canny-controlnet-v3.safetensors"], "color": "#332922", "bgcolor": "#593930"}, {"id": 148, "type": "DownloadAndLoadDepthAnythingV2Model", "pos": {"0": 3822, "1": 969}, "size": {"0": 441, "1": 58}, "flags": {}, "order": 5, "mode": 0, "inputs": [], "outputs": [{"name": "da_v2_model", "type": "DAMODEL", "links": [187]}], "properties": {"Node name for S&R": "DownloadAndLoadDepthAnythingV2Model"}, "widgets_values": ["depth_anything_v2_vitl_fp32.safetensors"]}, {"id": 115, "type": "ImpactSwitch", "pos": {"0": 4689, "1": 479}, "size": {"0": 210, "1": 138}, "flags": {}, "order": 22, "mode": 0, "inputs": [{"name": "input1", "type": "IMAGE", "link": 151, "label": "input1", "shape": 7}, {"name": "input2", "type": "IMAGE", "link": 189, "label": "input3"}, {"name": "input3", "type": "IMAGE", "link": 191, "label": "input4"}, {"name": "select", "type": "INT", "link": 192, "widget": {"name": "select"}, "label": "select"}, {"name": "input4", "type": "IMAGE", "link": null}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [153], "slot_index": 0, "shape": 3, "label": "IMAGE"}, {"name": "selected_label", "type": "STRING", "links": null, "shape": 3, "label": "selected_label"}, {"name": "selected_index", "type": "INT", "links": null, "shape": 3, "label": "selected_index"}], "title": "Controlnet Preprocessor", "properties": {"Node name for S&R": "ImpactSwitch"}, "widgets_values": [1, false]}, {"id": 149, "type": "Constant Number", "pos": {"0": 4604, "1": 898}, "size": {"0": 315, "1": 146}, "flags": {}, "order": 6, "mode": 0, "inputs": [{"name": "number_as_text", "type": "STRING", "link": null, "widget": {"name": "number_as_text"}, "shape": 7}], "outputs": [{"name": "NUMBER", "type": "NUMBER", "links": null}, {"name": "FLOAT", "type": "FLOAT", "links": null}, {"name": "INT", "type": "INT", "links": [192, 193], "slot_index": 2}], "properties": {"Node name for S&R": "Constant Number"}, "widgets_values": ["integer", 2, ""]}, {"id": 119, "type": "ControlNetLoader", "pos": {"0": 3975.456298828125, "1": 557.9788818359375}, "size": {"0": 318.45263671875, "1": 58.0374641418457}, "flags": {}, "order": 7, "mode": 0, "inputs": [], "outputs": [{"name": "CONTROL_NET", "type": "CONTROL_NET", "links": [154], "slot_index": 0, "shape": 3, "label": "CONTROL_NET"}], "properties": {"Node name for S&R": "ControlNetLoader"}, "widgets_values": ["flux/flux-depth-controlnet-v3.safetensors"], "color": "#233", "bgcolor": "#355"}, {"id": 120, "type": "ControlNetLoader", "pos": {"0": 3916.427734375, "1": 1217.26904296875}, "size": {"0": 318.45263671875, "1": 58.0374641418457}, "flags": {}, "order": 8, "mode": 2, "inputs": [], "outputs": [{"name": "CONTROL_NET", "type": "CONTROL_NET", "links": [155], "slot_index": 0, "shape": 3, "label": "CONTROL_NET"}], "properties": {"Node name for S&R": "ControlNetLoader"}, "widgets_values": ["Flux\\flux-hed-controlnet-v3.safetensors"], "color": "#223", "bgcolor": "#335"}, {"id": 103, "type": "EmptyLatentImage", "pos": {"0": 5340, "1": 590}, "size": {"0": 315, "1": 106}, "flags": {}, "order": 27, "mode": 0, "inputs": [{"name": "width", "type": "INT", "link": 182, "widget": {"name": "width"}, "label": "width"}, {"name": "height", "type": "INT", "link": 183, "widget": {"name": "height"}, "label": "height"}], "outputs": [{"name": "LATENT", "type": "LATENT", "links": [134], "slot_index": 0, "shape": 3, "label": "LATENT"}], "properties": {"Node name for S&R": "EmptyLatentImage"}, "widgets_values": [832, 1280, 1]}, {"id": 111, "type": "GetImageSize+", "pos": {"0": 4971, "1": 590}, "size": {"0": 290.6980285644531, "1": 66}, "flags": {}, "order": 24, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 171, "label": "image"}], "outputs": [{"name": "width", "type": "INT", "links": [182], "slot_index": 0, "shape": 3, "label": "width"}, {"name": "height", "type": "INT", "links": [183], "slot_index": 1, "shape": 3, "label": "height"}, {"name": "count", "type": "INT", "links": null, "shape": 3, "label": "count"}], "properties": {"Node name for S&R": "GetImageSize+"}, "widgets_values": []}, {"id": 98, "type": "SamplerCustomAdvanced", "pos": {"0": 5720, "1": 91}, "size": {"0": 248.84588623046875, "1": 607.7503051757812}, "flags": {}, "order": 29, "mode": 0, "inputs": [{"name": "noise", "type": "NOISE", "link": 130, "slot_index": 0, "label": "noise"}, {"name": "guider", "type": "GUIDER", "link": 131, "slot_index": 1, "label": "guider"}, {"name": "sampler", "type": "SAMPLER", "link": 132, "slot_index": 2, "label": "sampler"}, {"name": "sigmas", "type": "SIGMAS", "link": 133, "slot_index": 3, "label": "sigmas"}, {"name": "latent_image", "type": "LATENT", "link": 134, "slot_index": 4, "label": "latent_image"}], "outputs": [{"name": "output", "type": "LATENT", "links": [128], "slot_index": 0, "shape": 3, "label": "output"}, {"name": "denoised_output", "type": "LATENT", "links": null, "shape": 3, "label": "denoised_output"}], "properties": {"Node name for S&R": "SamplerCustomAdvanced"}, "widgets_values": []}, {"id": 147, "type": "DepthAnything_V2", "pos": {"0": 4020, "1": 795}, "size": {"0": 214.20001220703125, "1": 46}, "flags": {}, "order": 18, "mode": 0, "inputs": [{"name": "da_model", "type": "DAMODEL", "link": 187}, {"name": "images", "type": "IMAGE", "link": 188}], "outputs": [{"name": "image", "type": "IMAGE", "links": [190, 191], "slot_index": 0}], "properties": {"Node name for S&R": "DepthAnything_V2"}, "widgets_values": []}, {"id": 110, "type": "CLIPTextEncodeFlux", "pos": {"0": 4980, "1": -30}, "size": {"0": 287.70062255859375, "1": 222.72406005859375}, "flags": {}, "order": 13, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 147, "label": "clip"}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [139, 144], "slot_index": 0, "shape": 3, "label": "CONDITIONING"}], "properties": {"Node name for S&R": "CLIPTextEncodeFlux"}, "widgets_values": ["women in tokyo, wearing bikini", "women in tokyo, wearing bikini", 4], "color": "#232", "bgcolor": "#353"}, {"id": 100, "type": "BasicScheduler", "pos": {"0": 5333, "1": 427}, "size": {"0": 315, "1": 106}, "flags": {}, "order": 20, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 195, "slot_index": 0, "label": "model"}], "outputs": [{"name": "SIGMAS", "type": "SIGMAS", "links": [133], "shape": 3, "label": "SIGMAS"}], "properties": {"Node name for S&R": "BasicScheduler"}, "widgets_values": ["sgm_uniform", 20, 1]}, {"id": 97, "type": "UNETLoader", "pos": {"0": 4630, "1": 130}, "size": {"0": 315, "1": 82}, "flags": {}, "order": 9, "mode": 0, "inputs": [], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [194], "slot_index": 0, "shape": 3, "label": "MODEL"}], "properties": {"Node name for S&R": "UNETLoader"}, "widgets_values": ["flux1-dev-fp8-e4m3fn.safetensors", "fp8_e4m3fn"]}, {"id": 105, "type": "ControlNetApplyAdvanced", "pos": {"0": 4980, "1": 328}, "size": {"0": 290.50213623046875, "1": 186}, "flags": {}, "order": 26, "mode": 0, "inputs": [{"name": "positive", "type": "CONDITIONING", "link": 139, "label": "positive"}, {"name": "negative", "type": "CONDITIONING", "link": 140, "label": "negative"}, {"name": "control_net", "type": "CONTROL_NET", "link": 152, "label": "control_net"}, {"name": "image", "type": "IMAGE", "link": 153, "label": "image"}, {"name": "vae", "type": "VAE", "link": null, "shape": 7}], "outputs": [{"name": "positive", "type": "CONDITIONING", "links": [146], "slot_index": 0, "shape": 3, "label": "positive"}, {"name": "negative", "type": "CONDITIONING", "links": [], "slot_index": 1, "shape": 3, "label": "negative"}], "properties": {"Node name for S&R": "ControlNetApplyAdvanced"}, "widgets_values": [0.7, 0, 1], "color": "#323", "bgcolor": "#535"}, {"id": 146, "type": "LoraLoader", "pos": {"0": 4997, "1": 809}, "size": {"0": 315, "1": 126}, "flags": {}, "order": 14, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 194}, {"name": "clip", "type": "CLIP", "link": 197}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [195, 196], "slot_index": 0, "shape": 3}, {"name": "CLIP", "type": "CLIP", "links": [], "slot_index": 1, "shape": 3}], "properties": {"Node name for S&R": "LoraLoader"}, "widgets_values": ["alice-lora-dev-v2/alice-lora-dev-v2-000012.safetensors", 0.9, 0.9]}, {"id": 96, "type": "DualCLIPLoader", "pos": {"0": 4630, "1": -30}, "size": {"0": 315, "1": 106}, "flags": {}, "order": 10, "mode": 0, "inputs": [], "outputs": [{"name": "CLIP", "type": "CLIP", "links": [147, 197], "slot_index": 0, "shape": 3, "label": "CLIP"}], "properties": {"Node name for S&R": "DualCLIPLoader"}, "widgets_values": ["t5xxl_fp8_e4m3fn.safetensors", "clip_l.safetensors", "flux"]}, {"id": 135, "type": "LoadImage", "pos": {"0": 6124, "1": -73}, "size": {"0": 387.5101318359375, "1": 866.96142578125}, "flags": {}, "order": 11, "mode": 0, "inputs": [], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [179, 181, 184, 188, 189], "slot_index": 0, "shape": 3, "label": "IMAGE"}, {"name": "MASK", "type": "MASK", "links": null, "shape": 3, "label": "MASK"}], "properties": {"Node name for S&R": "LoadImage"}, "widgets_values": ["GVsTOTPXcAELu8s.jpeg", "image"]}, {"id": 144, "type": "SaveImage", "pos": {"0": 6553, "1": -33}, "size": {"0": 402.7569580078125, "1": 838.470458984375}, "flags": {}, "order": 31, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 186, "label": "images"}], "outputs": [], "properties": {"Node name for S&R": "SaveImage"}, "widgets_values": ["Canny"]}], "links": [[128, 98, 0, 94, 0, "LATENT"], [129, 95, 0, 94, 1, "VAE"], [130, 101, 0, 98, 0, "NOISE"], [131, 109, 0, 98, 1, "GUIDER"], [132, 99, 0, 98, 2, "SAMPLER"], [133, 100, 0, 98, 3, "SIGMAS"], [134, 103, 0, 98, 4, "LATENT"], [139, 110, 0, 105, 0, "CONDITIONING"], [140, 108, 0, 105, 1, "CONDITIONING"], [144, 110, 0, 108, 0, "CONDITIONING"], [146, 105, 0, 109, 1, "CONDITIONING"], [147, 96, 0, 110, 0, "CLIP"], [150, 104, 0, 113, 0, "CONTROL_NET"], [151, 106, 0, 115, 0, "*"], [152, 113, 0, 105, 2, "CONTROL_NET"], [153, 115, 0, 105, 3, "IMAGE"], [154, 119, 0, 113, 1, "CONTROL_NET"], [155, 120, 0, 113, 2, "CONTROL_NET"], [157, 121, 0, 115, 1, "IMAGE"], [171, 131, 0, 111, 0, "IMAGE"], [173, 121, 0, 132, 0, "IMAGE"], [174, 106, 0, 133, 0, "IMAGE"], [179, 135, 0, 106, 0, "IMAGE"], [181, 135, 0, 121, 0, "IMAGE"], [182, 111, 0, 103, 0, "INT"], [183, 111, 1, 103, 1, "INT"], [184, 135, 0, 131, 0, "IMAGE"], [186, 94, 0, 144, 0, "IMAGE"], [187, 148, 0, 147, 0, "DAMODEL"], [188, 135, 0, 147, 1, "IMAGE"], [189, 135, 0, 115, 1, "IMAGE"], [190, 147, 0, 127, 0, "IMAGE"], [191, 147, 0, 115, 2, "IMAGE"], [192, 149, 2, 115, 3, "INT"], [193, 149, 2, 113, 4, "INT"], [194, 97, 0, 146, 0, "MODEL"], [195, 146, 0, 100, 0, "MODEL"], [196, 146, 0, 109, 0, "MODEL"], [197, 96, 0, 146, 1, "CLIP"]], "groups": [{"title": "Canny", "bounding": [3965, -142, 621, 599], "color": "#b06634", "font_size": 24, "flags": {}}, {"title": "Depth", "bounding": [3966, 467, 616, 609], "color": "#8AA", "font_size": 24, "flags": {}}, {"title": "Controlnet Selector", "bounding": [3421, 773, 391, 412], "color": "#f7eded", "font_size": 40, "flags": {}}, {"title": "Group", "bounding": [4315, 845, 140, 80], "color": "#3f789e", "font_size": 24, "flags": {}}, {"title": "Hed", "bounding": [3905, 1120, 614, 617], "color": "#88A", "font_size": 24, "flags": {}}], "config": {}, "extra": {"0246.VERSION": [0, 0, 4]}, "version": 0.4}