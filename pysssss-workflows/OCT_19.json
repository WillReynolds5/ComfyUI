{"last_node_id": 163, "last_link_id": 264, "nodes": [{"id": 25, "type": "IPAdapterModelLoader", "pos": {"0": 936.5861206054688, "1": -226.51744079589844}, "size": {"0": 300, "1": 60}, "flags": {}, "order": 0, "mode": 0, "inputs": [], "outputs": [{"name": "IPADAPTER", "type": "IPADAPTER", "links": [30], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "IPAdapterModelLoader"}, "widgets_values": ["ip-adapter-faceid-plusv2_sdxl.bin"]}, {"id": 26, "type": "CLIPVisionLoader", "pos": {"0": 978.5860595703125, "1": -106.51736450195312}, "size": {"0": 300, "1": 60}, "flags": {}, "order": 1, "mode": 0, "inputs": [], "outputs": [{"name": "CLIP_VISION", "type": "CLIP_VISION", "links": [32], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "CLIPVisionLoader"}, "widgets_values": ["model.safetensors"]}, {"id": 28, "type": "IPAdapterInsightFaceLoader", "pos": {"0": 986.5861206054688, "1": 11.482673645019531}, "size": {"0": 315, "1": 58}, "flags": {}, "order": 2, "mode": 0, "inputs": [], "outputs": [{"name": "INSIGHTFACE", "type": "INSIGHTFACE", "links": [33], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "IPAdapterInsightFaceLoader"}, "widgets_values": ["CUDA"]}, {"id": 80, "type": "PreviewImage", "pos": {"0": 513, "1": -306}, "size": {"0": 210, "1": 246}, "flags": {}, "order": 47, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 109}], "outputs": [], "properties": {"Node name for S&R": "PreviewImage"}, "widgets_values": []}, {"id": 47, "type": "PreviewImage", "pos": {"0": 2198, "1": 1476}, "size": {"0": 210, "1": 246}, "flags": {}, "order": 55, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 60}], "outputs": [], "properties": {"Node name for S&R": "PreviewImage"}, "widgets_values": []}, {"id": 114, "type": "VAEEncode", "pos": {"0": 1024, "1": 212}, "size": {"0": 210, "1": 46}, "flags": {}, "order": 45, "mode": 0, "inputs": [{"name": "pixels", "type": "IMAGE", "link": 172}, {"name": "vae", "type": "VAE", "link": 168}], "outputs": [{"name": "LATENT", "type": "LATENT", "links": [166], "slot_index": 0}], "properties": {"Node name for S&R": "VAEEncode"}, "widgets_values": []}, {"id": 27, "type": "IPAdapterFaceID", "pos": {"0": 1402.683837890625, "1": -283.4759521484375}, "size": {"0": 317.4000244140625, "1": 322}, "flags": {}, "order": 31, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 29, "slot_index": 0}, {"name": "ipadapter", "type": "IPADAPTER", "link": 30}, {"name": "image", "type": "IMAGE", "link": 31}, {"name": "image_negative", "type": "IMAGE", "link": null, "shape": 7}, {"name": "attn_mask", "type": "MASK", "link": null, "shape": 7}, {"name": "clip_vision", "type": "CLIP_VISION", "link": 32, "shape": 7}, {"name": "insightface", "type": "INSIGHTFACE", "link": 33, "shape": 7}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [18, 176], "slot_index": 0, "shape": 3}, {"name": "face_image", "type": "IMAGE", "links": [109], "slot_index": 1, "shape": 3}], "properties": {"Node name for S&R": "IPAdapterFaceID"}, "widgets_values": [1, 1, "linear", "concat", 0, 1, "V only"]}, {"id": 75, "type": "Note", "pos": {"0": 3443, "1": -449}, "size": {"0": 474.94287109375, "1": 543.5535278320312}, "flags": {}, "order": 3, "mode": 0, "inputs": [], "outputs": [], "properties": {"text": ""}, "widgets_values": ["You must play with having the upscaled connected to the raw model or the ipdadpter, generatly raw model will be better, but it will loose style."], "color": "#432", "bgcolor": "#653"}, {"id": 69, "type": "UltralyticsDetectorProvider", "pos": {"0": 2781.814453125, "1": -250.37945556640625}, "size": {"0": 315, "1": 78}, "flags": {}, "order": 4, "mode": 0, "inputs": [], "outputs": [{"name": "BBOX_DETECTOR", "type": "BBOX_DETECTOR", "links": [87], "slot_index": 0, "shape": 3}, {"name": "SEGM_DETECTOR", "type": "SEGM_DETECTOR", "links": null, "shape": 3}], "properties": {"Node name for S&R": "UltralyticsDetectorProvider"}, "widgets_values": ["bbox/face_yolov8m.pt"]}, {"id": 115, "type": "SAMModelLoader (segment anything)", "pos": {"0": 1010.1668090820312, "1": 2910.603759765625}, "size": {"0": 315, "1": 58}, "flags": {}, "order": 5, "mode": 2, "inputs": [], "outputs": [{"name": "SAM_MODEL", "type": "SAM_MODEL", "links": [179], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "SAMModelLoader (segment anything)"}, "widgets_values": ["sam_vit_h (2.56GB)"]}, {"id": 116, "type": "GroundingDinoModelLoader (segment anything)", "pos": {"0": 997.1668090820312, "1": 3021.603759765625}, "size": {"0": 361.20001220703125, "1": 58}, "flags": {}, "order": 6, "mode": 2, "inputs": [], "outputs": [{"name": "GROUNDING_DINO_MODEL", "type": "GROUNDING_DINO_MODEL", "links": [180], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "GroundingDinoModelLoader (segment anything)"}, "widgets_values": ["GroundingDINO_SwinB (938MB)"]}, {"id": 118, "type": "PreviewImage", "pos": {"0": 1052.1668701171875, "1": 3380.603759765625}, "size": {"0": 210, "1": 246}, "flags": {}, "order": 34, "mode": 2, "inputs": [{"name": "images", "type": "IMAGE", "link": 181}], "outputs": [], "properties": {"Node name for S&R": "PreviewImage"}, "widgets_values": []}, {"id": 119, "type": "ControlNetApply", "pos": {"0": 2037.7235107421875, "1": 3045.503662109375}, "size": {"0": 317.4000244140625, "1": 98}, "flags": {}, "order": 37, "mode": 2, "inputs": [{"name": "conditioning", "type": "CONDITIONING", "link": null, "slot_index": 0}, {"name": "control_net", "type": "CONTROL_NET", "link": 182}, {"name": "image", "type": "IMAGE", "link": 183}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [195], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "ControlNetApply"}, "widgets_values": [0.85]}, {"id": 120, "type": "ControlNetLoader", "pos": {"0": 2011.7235107421875, "1": 2910.503662109375}, "size": {"0": 315, "1": 58}, "flags": {}, "order": 7, "mode": 2, "inputs": [], "outputs": [{"name": "CONTROL_NET", "type": "CONTROL_NET", "links": [182], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "ControlNetLoader"}, "widgets_values": ["depth/control-depth.safetensors"]}, {"id": 121, "type": "PreviewImage", "pos": {"0": 2086.723388671875, "1": 3447.503662109375}, "size": {"0": 210, "1": 246}, "flags": {}, "order": 38, "mode": 2, "inputs": [{"name": "images", "type": "IMAGE", "link": 184}], "outputs": [], "properties": {"Node name for S&R": "PreviewImage"}, "widgets_values": []}, {"id": 122, "type": "ControlNetLoader", "pos": {"0": 2546.30419921875, "1": 2939.53125}, "size": {"0": 315, "1": 58}, "flags": {}, "order": 8, "mode": 2, "inputs": [], "outputs": [{"name": "CONTROL_NET", "type": "CONTROL_NET", "links": [185], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "ControlNetLoader"}, "widgets_values": ["canny/canny_sdxl.safetensors"]}, {"id": 123, "type": "ControlNetApply", "pos": {"0": 2525.30419921875, "1": 3021.53125}, "size": {"0": 317.4000244140625, "1": 98}, "flags": {}, "order": 68, "mode": 2, "inputs": [{"name": "conditioning", "type": "CONDITIONING", "link": null, "slot_index": 0}, {"name": "control_net", "type": "CONTROL_NET", "link": 185}, {"name": "image", "type": "IMAGE", "link": 186, "slot_index": 2}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [196], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "ControlNetApply"}, "widgets_values": [0.85]}, {"id": 124, "type": "PreviewImage", "pos": {"0": 2541.30419921875, "1": 3382.53125}, "size": {"0": 210, "1": 246}, "flags": {}, "order": 69, "mode": 2, "inputs": [{"name": "images", "type": "IMAGE", "link": 187}], "outputs": [], "properties": {"Node name for S&R": "PreviewImage"}, "widgets_values": []}, {"id": 125, "type": "CannyEdgePreprocessor", "pos": {"0": 2541.30419921875, "1": 3171.53125}, "size": {"0": 315, "1": 106}, "flags": {}, "order": 63, "mode": 2, "inputs": [{"name": "image", "type": "IMAGE", "link": 188, "slot_index": 0}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [186, 187], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "CannyEdgePreprocessor"}, "widgets_values": [100, 200, 512]}, {"id": 126, "type": "Mix Color By Mask", "pos": {"0": 1460.2508544921875, "1": 3186.833251953125}, "size": {"0": 315, "1": 126}, "flags": {}, "order": 59, "mode": 2, "inputs": [{"name": "image", "type": "IMAGE", "link": 189}, {"name": "mask", "type": "IMAGE", "link": 190}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [188, 191], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "Mix Color By Mask"}, "widgets_values": [255, 255, 255]}, {"id": 127, "type": "PreviewImage", "pos": {"0": 1526.2508544921875, "1": 3368.833251953125}, "size": {"0": 210, "1": 246}, "flags": {}, "order": 64, "mode": 2, "inputs": [{"name": "images", "type": "IMAGE", "link": 191}], "outputs": [], "properties": {"Node name for S&R": "PreviewImage"}, "widgets_values": []}, {"id": 128, "type": "InvertMask", "pos": {"0": 1508.2508544921875, "1": 2929.833251953125}, "size": {"0": 210, "1": 26}, "flags": {}, "order": 35, "mode": 2, "inputs": [{"name": "mask", "type": "MASK", "link": 192}], "outputs": [{"name": "MASK", "type": "MASK", "links": [193, 197], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "InvertMask"}, "widgets_values": []}, {"id": 129, "type": "MaskToImage", "pos": {"0": 1523.9847412109375, "1": 3090.176513671875}, "size": {"0": 208.18699645996094, "1": 26}, "flags": {}, "order": 48, "mode": 2, "inputs": [{"name": "mask", "type": "MASK", "link": 193}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [190], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "MaskToImage"}, "widgets_values": []}, {"id": 130, "type": "DepthAnything_V2", "pos": {"0": 2081.723388671875, "1": 3330.503662109375}, "size": {"0": 210, "1": 46}, "flags": {}, "order": 26, "mode": 2, "inputs": [{"name": "da_model", "type": "DAMODEL", "link": 194, "slot_index": 0}, {"name": "images", "type": "IMAGE", "link": null}], "outputs": [{"name": "image", "type": "IMAGE", "links": [183, 184, 204], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "DepthAnything_V2"}, "widgets_values": []}, {"id": 131, "type": "DownloadAndLoadDepthAnythingV2Model", "pos": {"0": 2038.7235107421875, "1": 3209.503662109375}, "size": {"0": 315, "1": 58}, "flags": {}, "order": 9, "mode": 2, "inputs": [], "outputs": [{"name": "da_v2_model", "type": "DAMODEL", "links": [194], "shape": 3}], "properties": {"Node name for S&R": "DownloadAndLoadDepthAnythingV2Model"}, "widgets_values": ["depth_anything_v2_vitb_fp16.safetensors"]}, {"id": 132, "type": "ConditioningCombine", "pos": {"0": 1955.9847412109375, "1": 2662.176513671875}, "size": {"0": 342.5999755859375, "1": 46}, "flags": {}, "order": 71, "mode": 2, "inputs": [{"name": "conditioning_1", "type": "CONDITIONING", "link": 195}, {"name": "conditioning_2", "type": "CONDITIONING", "link": 196}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "ConditioningCombine"}, "widgets_values": []}, {"id": 133, "type": "VAEEncodeForInpaint", "pos": {"0": 1565.327392578125, "1": 4242.11572265625}, "size": {"0": 315, "1": 98}, "flags": {}, "order": 49, "mode": 2, "inputs": [{"name": "pixels", "type": "IMAGE", "link": null}, {"name": "vae", "type": "VAE", "link": null}, {"name": "mask", "type": "MASK", "link": 197}], "outputs": [{"name": "LATENT", "type": "LATENT", "links": [200], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "VAEEncodeForInpaint"}, "widgets_values": [20]}, {"id": 134, "type": "KSampler", "pos": {"0": 1605.327392578125, "1": 4638.11572265625}, "size": {"0": 287.2851867675781, "1": 262}, "flags": {}, "order": 60, "mode": 2, "inputs": [{"name": "model", "type": "MODEL", "link": null, "slot_index": 0}, {"name": "positive", "type": "CONDITIONING", "link": 198}, {"name": "negative", "type": "CONDITIONING", "link": 199}, {"name": "latent_image", "type": "LATENT", "link": 200}], "outputs": [{"name": "LATENT", "type": "LATENT", "links": [201], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "KSampler"}, "widgets_values": [21847830896812, "fixed", 5, 2, "dpmpp_sde_gpu", "karras", 1]}, {"id": 135, "type": "VAEDecode", "pos": {"0": 1638.327392578125, "1": 4448.11572265625}, "size": {"0": 210, "1": 46}, "flags": {}, "order": 65, "mode": 2, "inputs": [{"name": "samples", "type": "LATENT", "link": 201}, {"name": "vae", "type": "VAE", "link": null}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "VAEDecode"}, "widgets_values": []}, {"id": 136, "type": "CLIPTextEncode", "pos": {"0": 1023.3273315429688, "1": 4210.11572265625}, "size": {"0": 400, "1": 200}, "flags": {}, "order": 10, "mode": 2, "inputs": [{"name": "clip", "type": "CLIP", "link": null}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [202, 205], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": ["school \n"]}, {"id": 137, "type": "CLIPTextEncode", "pos": {"0": 1027.327392578125, "1": 4479.11572265625}, "size": {"0": 400, "1": 200}, "flags": {}, "order": 11, "mode": 2, "inputs": [{"name": "clip", "type": "CLIP", "link": null}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [199], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": ["text, watermark,"]}, {"id": 138, "type": "ControlNetApply", "pos": {"0": 2021.9847412109375, "1": 4583.1767578125}, "size": {"0": 317.4000244140625, "1": 98}, "flags": {}, "order": 39, "mode": 2, "inputs": [{"name": "conditioning", "type": "CONDITIONING", "link": 202, "slot_index": 0}, {"name": "control_net", "type": "CONTROL_NET", "link": 203}, {"name": "image", "type": "IMAGE", "link": 204}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [209], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "ControlNetApply"}, "widgets_values": [0.85]}, {"id": 139, "type": "ControlNetLoader", "pos": {"0": 1964.327392578125, "1": 4466.11572265625}, "size": {"0": 315, "1": 58}, "flags": {}, "order": 12, "mode": 2, "inputs": [], "outputs": [{"name": "CONTROL_NET", "type": "CONTROL_NET", "links": [203], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "ControlNetLoader"}, "widgets_values": ["depth/control-depth.safetensors"]}, {"id": 140, "type": "ControlNetLoader", "pos": {"0": 2507.984619140625, "1": 4410.1767578125}, "size": {"0": 315, "1": 58}, "flags": {}, "order": 13, "mode": 2, "inputs": [], "outputs": [{"name": "CONTROL_NET", "type": "CONTROL_NET", "links": [206], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "ControlNetLoader"}, "widgets_values": ["canny/canny_sdxl.safetensors"]}, {"id": 141, "type": "ControlNetApply", "pos": {"0": 2488.3271484375, "1": 4586.11572265625}, "size": {"0": 317.4000244140625, "1": 98}, "flags": {}, "order": 27, "mode": 2, "inputs": [{"name": "conditioning", "type": "CONDITIONING", "link": 205, "slot_index": 0}, {"name": "control_net", "type": "CONTROL_NET", "link": 206}, {"name": "image", "type": "IMAGE", "link": 207, "slot_index": 2}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [210], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "ControlNetApply"}, "widgets_values": [0.85]}, {"id": 142, "type": "PreviewImage", "pos": {"0": 2567.3271484375, "1": 4890.11572265625}, "size": {"0": 210, "1": 246}, "flags": {}, "order": 28, "mode": 2, "inputs": [{"name": "images", "type": "IMAGE", "link": 208}], "outputs": [], "properties": {"Node name for S&R": "PreviewImage"}, "widgets_values": []}, {"id": 143, "type": "CannyEdgePreprocessor", "pos": {"0": 2492.984619140625, "1": 4721.1767578125}, "size": {"0": 315, "1": 106}, "flags": {}, "order": 14, "mode": 2, "inputs": [{"name": "image", "type": "IMAGE", "link": null, "slot_index": 0}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [207, 208], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "CannyEdgePreprocessor"}, "widgets_values": [100, 200, 512]}, {"id": 144, "type": "ConditioningCombine", "pos": {"0": 2270.984619140625, "1": 4126.1767578125}, "size": {"0": 342.5999755859375, "1": 46}, "flags": {}, "order": 51, "mode": 2, "inputs": [{"name": "conditioning_1", "type": "CONDITIONING", "link": 209}, {"name": "conditioning_2", "type": "CONDITIONING", "link": 210}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [198], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "ConditioningCombine"}, "widgets_values": []}, {"id": 145, "type": "MaskToImage", "pos": {"0": 1374.327392578125, "1": 4711.11572265625}, "size": {"0": 210, "1": 26}, "flags": {}, "order": 36, "mode": 2, "inputs": [{"name": "mask", "type": "MASK", "link": 211}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [212], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "MaskToImage"}, "widgets_values": []}, {"id": 146, "type": "PreviewImage", "pos": {"0": 1374.327392578125, "1": 4882.11572265625}, "size": {"0": 210, "1": 246}, "flags": {}, "order": 50, "mode": 2, "inputs": [{"name": "images", "type": "IMAGE", "link": 212}], "outputs": [], "properties": {"Node name for S&R": "PreviewImage"}, "widgets_values": []}, {"id": 29, "type": "LoadImage", "pos": {"0": 145, "1": -296}, "size": {"0": 315, "1": 314.0000915527344}, "flags": {}, "order": 15, "mode": 0, "inputs": [], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [31], "slot_index": 0, "shape": 3}, {"name": "MASK", "type": "MASK", "links": null, "shape": 3}], "properties": {"Node name for S&R": "LoadImage"}, "widgets_values": ["5731c637-c8d1-4de9-b51b-e6a32386586c-0 3 (1).png", "image"]}, {"id": 112, "type": "SaveImage", "pos": {"0": 3501, "1": 202}, "size": {"0": 315, "1": 270}, "flags": {}, "order": 77, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 161}], "outputs": [], "properties": {}, "widgets_values": ["alisa/ComfyUI"]}, {"id": 117, "type": "GroundingDinoSAMSegment (segment anything)", "pos": {"0": 982, "1": 3159}, "size": {"0": 352.79998779296875, "1": 122}, "flags": {}, "order": 25, "mode": 2, "inputs": [{"name": "sam_model", "type": "SAM_MODEL", "link": 179}, {"name": "grounding_dino_model", "type": "GROUNDING_DINO_MODEL", "link": 180}, {"name": "image", "type": "IMAGE", "link": null, "slot_index": 2}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [181, 189], "slot_index": 0, "shape": 3}, {"name": "MASK", "type": "MASK", "links": [192, 211], "slot_index": 1, "shape": 3}], "properties": {"Node name for S&R": "GroundingDinoSAMSegment (segment anything)"}, "widgets_values": ["women", 0.3]}, {"id": 151, "type": "Mix Color By Mask", "pos": {"0": 926.2252807617188, "1": 1616.8055419921875}, "size": {"0": 315, "1": 126}, "flags": {}, "order": 61, "mode": 2, "inputs": [{"name": "image", "type": "IMAGE", "link": 216}, {"name": "mask", "type": "IMAGE", "link": 217}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [218], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "Mix Color By Mask"}, "widgets_values": [255, 255, 255]}, {"id": 153, "type": "InvertMask", "pos": {"0": 974.2254028320312, "1": 1359.8055419921875}, "size": {"0": 210, "1": 26}, "flags": {}, "order": 41, "mode": 2, "inputs": [{"name": "mask", "type": "MASK", "link": 219}], "outputs": [{"name": "MASK", "type": "MASK", "links": [220], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "InvertMask"}, "widgets_values": []}, {"id": 154, "type": "MaskToImage", "pos": {"0": 989.9592895507812, "1": 1520.1488037109375}, "size": {"0": 208.18699645996094, "1": 26}, "flags": {}, "order": 52, "mode": 2, "inputs": [{"name": "mask", "type": "MASK", "link": 220}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [217], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "MaskToImage"}, "widgets_values": []}, {"id": 150, "type": "PreviewImage", "pos": {"0": 457.3060302734375, "1": 1802.858154296875}, "size": {"0": 210, "1": 246}, "flags": {}, "order": 40, "mode": 2, "inputs": [{"name": "images", "type": "IMAGE", "link": 215}], "outputs": [], "properties": {"Node name for S&R": "PreviewImage"}, "widgets_values": []}, {"id": 149, "type": "GroundingDinoSAMSegment (segment anything)", "pos": {"0": 380.3060302734375, "1": 1601.858154296875}, "size": {"0": 352.79998779296875, "1": 122}, "flags": {}, "order": 29, "mode": 2, "inputs": [{"name": "sam_model", "type": "SAM_MODEL", "link": 213}, {"name": "grounding_dino_model", "type": "GROUNDING_DINO_MODEL", "link": 214}, {"name": "image", "type": "IMAGE", "link": null, "slot_index": 2}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [215, 216], "slot_index": 0, "shape": 3}, {"name": "MASK", "type": "MASK", "links": [219], "slot_index": 1, "shape": 3}], "properties": {"Node name for S&R": "GroundingDinoSAMSegment (segment anything)"}, "widgets_values": ["women", 0.3]}, {"id": 147, "type": "SAMModelLoader (segment anything)", "pos": {"0": 386.3059997558594, "1": 1362.858154296875}, "size": {"0": 315, "1": 58}, "flags": {}, "order": 16, "mode": 2, "inputs": [], "outputs": [{"name": "SAM_MODEL", "type": "SAM_MODEL", "links": [213], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "SAMModelLoader (segment anything)"}, "widgets_values": ["sam_vit_h (2.56GB)"]}, {"id": 148, "type": "GroundingDinoModelLoader (segment anything)", "pos": {"0": 381.3060302734375, "1": 1487.858154296875}, "size": {"0": 361.20001220703125, "1": 58}, "flags": {}, "order": 17, "mode": 2, "inputs": [], "outputs": [{"name": "GROUNDING_DINO_MODEL", "type": "GROUNDING_DINO_MODEL", "links": [214], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "GroundingDinoModelLoader (segment anything)"}, "widgets_values": ["GroundingDINO_SwinB (938MB)"]}, {"id": 152, "type": "PreviewImage", "pos": {"0": 992.0515747070312, "1": 1798.833984375}, "size": {"0": 210, "1": 246}, "flags": {}, "order": 66, "mode": 2, "inputs": [{"name": "images", "type": "IMAGE", "link": 218}], "outputs": [], "properties": {"Node name for S&R": "PreviewImage"}, "widgets_values": []}, {"id": 67, "type": "PreviewImage", "pos": {"0": 1388, "1": -1786}, "size": {"0": 819.194580078125, "1": 1282.14892578125}, "flags": {}, "order": 73, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 85, "slot_index": 0}], "outputs": [], "properties": {"Node name for S&R": "PreviewImage"}, "widgets_values": []}, {"id": 66, "type": "PreviewImage", "pos": {"0": 475, "1": -1773}, "size": {"0": 819.194580078125, "1": 1282.14892578125}, "flags": {}, "order": 42, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 147, "slot_index": 0}], "outputs": [], "properties": {"Node name for S&R": "PreviewImage"}, "widgets_values": []}, {"id": 36, "type": "PreviewImage", "pos": {"0": 2295, "1": -1784}, "size": {"0": 819.194580078125, "1": 1282.14892578125}, "flags": {}, "order": 74, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 43, "slot_index": 0}], "outputs": [], "properties": {"Node name for S&R": "PreviewImage"}, "widgets_values": []}, {"id": 72, "type": "PreviewImage", "pos": {"0": 3191, "1": -1777}, "size": {"0": 819.194580078125, "1": 1282.14892578125}, "flags": {}, "order": 76, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 100, "slot_index": 0}], "outputs": [], "properties": {"Node name for S&R": "PreviewImage"}, "widgets_values": []}, {"id": 11, "type": "LoadImage", "pos": {"0": 47, "1": 94}, "size": {"0": 315, "1": 314.0000915527344}, "flags": {}, "order": 18, "mode": 0, "inputs": [], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [173], "slot_index": 0, "shape": 3}, {"name": "MASK", "type": "MASK", "links": null, "shape": 3}], "properties": {"Node name for S&R": "LoadImage"}, "widgets_values": ["GM8gDo9XQAEVeIc.jpeg", "image"]}, {"id": 37, "type": "UltimateSDUpscale", "pos": {"0": 2172.805908203125, "1": -84.35987091064453}, "size": {"0": 315, "1": 614}, "flags": {}, "order": 72, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 44}, {"name": "model", "type": "MODEL", "link": 176, "slot_index": 1}, {"name": "positive", "type": "CONDITIONING", "link": 259}, {"name": "negative", "type": "CONDITIONING", "link": 254}, {"name": "vae", "type": "VAE", "link": 48}, {"name": "upscale_model", "type": "UPSCALE_MODEL", "link": 49}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [43, 101], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "UltimateSDUpscale"}, "widgets_values": [1.9000000000000001, 1062314217360759, "fixed", 5, 2, "euler", "normal", 0.2, "Linear", 1024, 1024, 8, 32, "None", 1, 64, 8, 16, true, false]}, {"id": 30, "type": "UpscaleModelLoader", "pos": {"0": 2101, "1": 661}, "size": {"0": 315, "1": 58}, "flags": {}, "order": 19, "mode": 0, "inputs": [], "outputs": [{"name": "UPSCALE_MODEL", "type": "UPSCALE_MODEL", "links": [49], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "UpscaleModelLoader"}, "widgets_values": ["4xUltrasharp_4xUltrasharpV10.pt"]}, {"id": 45, "type": "ControlNetLoader", "pos": {"0": 2194, "1": 948}, "size": {"0": 315, "1": 58}, "flags": {}, "order": 20, "mode": 0, "inputs": [], "outputs": [{"name": "CONTROL_NET", "type": "CONTROL_NET", "links": [231], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "ControlNetLoader"}, "widgets_values": ["canny/canny_sdxl.safetensors"]}, {"id": 23, "type": "ControlNetLoader", "pos": {"0": 1709, "1": 940}, "size": {"0": 315, "1": 58}, "flags": {}, "order": 21, "mode": 0, "inputs": [], "outputs": [{"name": "CONTROL_NET", "type": "CONTROL_NET", "links": [232], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "ControlNetLoader"}, "widgets_values": ["depth/control-depth.safetensors"]}, {"id": 56, "type": "DownloadAndLoadDepthAnythingV2Model", "pos": {"0": 1652, "1": 1296}, "size": {"0": 315, "1": 58}, "flags": {}, "order": 22, "mode": 0, "inputs": [], "outputs": [{"name": "da_v2_model", "type": "DAMODEL", "links": [69], "shape": 3}], "properties": {"Node name for S&R": "DownloadAndLoadDepthAnythingV2Model"}, "widgets_values": ["depth_anything_v2_vitb_fp16.safetensors"]}, {"id": 24, "type": "PreviewImage", "pos": {"0": 1715, "1": 1552}, "size": {"0": 210, "1": 246}, "flags": {}, "order": 53, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 28}], "outputs": [], "properties": {"Node name for S&R": "PreviewImage"}, "widgets_values": []}, {"id": 55, "type": "DepthAnything_V2", "pos": {"0": 1738.73876953125, "1": 1425.3270263671875}, "size": {"0": 210, "1": 46}, "flags": {}, "order": 43, "mode": 0, "inputs": [{"name": "da_model", "type": "DAMODEL", "link": 69, "slot_index": 0}, {"name": "images", "type": "IMAGE", "link": 154}], "outputs": [{"name": "image", "type": "IMAGE", "links": [28, 233], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "DepthAnything_V2"}, "widgets_values": []}, {"id": 48, "type": "CannyEdgePreprocessor", "pos": {"0": 2174, "1": 1290}, "size": {"0": 315, "1": 106}, "flags": {}, "order": 44, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 171, "slot_index": 0}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [60, 234], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "CannyEdgePreprocessor"}, "widgets_values": [100, 200, 512]}, {"id": 16, "type": "CheckpointLoaderSimple", "pos": {"0": 171, "1": 480}, "size": {"0": 315, "1": 98}, "flags": {}, "order": 23, "mode": 0, "inputs": [], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [29, 177], "slot_index": 0}, {"name": "CLIP", "type": "CLIP", "links": [16, 17, 98], "slot_index": 1}, {"name": "VAE", "type": "VAE", "links": [23, 48, 97, 168, 235, 236], "slot_index": 2}], "properties": {"Node name for S&R": "CheckpointLoaderSimple"}, "widgets_values": ["RealVisXL_V4.0_Lightning.safetensors"]}, {"id": 68, "type": "FaceDetailer", "pos": {"0": 2798, "1": -147}, "size": {"0": 346, "1": 900.0000610351562}, "flags": {}, "order": 75, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 101}, {"name": "model", "type": "MODEL", "link": 177}, {"name": "clip", "type": "CLIP", "link": 98}, {"name": "vae", "type": "VAE", "link": 97}, {"name": "positive", "type": "CONDITIONING", "link": 95}, {"name": "negative", "type": "CONDITIONING", "link": 96}, {"name": "bbox_detector", "type": "BBOX_DETECTOR", "link": 87}, {"name": "sam_model_opt", "type": "SAM_MODEL", "link": null, "shape": 7}, {"name": "segm_detector_opt", "type": "SEGM_DETECTOR", "link": null, "shape": 7}, {"name": "detailer_hook", "type": "DETAILER_HOOK", "link": null, "shape": 7}, {"name": "scheduler_func_opt", "type": "SCHEDULER_FUNC", "link": null, "shape": 7}], "outputs": [{"name": "image", "type": "IMAGE", "links": [100, 161], "slot_index": 0, "shape": 3}, {"name": "cropped_refined", "type": "IMAGE", "links": [], "slot_index": 1, "shape": 6}, {"name": "cropped_enhanced_alpha", "type": "IMAGE", "links": null, "shape": 6}, {"name": "mask", "type": "MASK", "links": null, "shape": 3}, {"name": "detailer_pipe", "type": "DETAILER_PIPE", "links": null, "shape": 3}, {"name": "cnet_images", "type": "IMAGE", "links": null, "shape": 6}], "properties": {"Node name for S&R": "FaceDetailer"}, "widgets_values": [384, true, 1024, 1062314217360759, "fixed", 5, 2, "dpmpp_sde_gpu", "karras", 0.3, 5, true, true, 0.5, 10, 3, "center-1", 0, 0.93, 0, 0.7, "False", 10, "", 1, false, 20]}, {"id": 107, "type": "Reroute", "pos": {"0": 667, "1": 269}, "size": [75, 26], "flags": {}, "order": 30, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 173}], "outputs": [{"name": "", "type": "IMAGE", "links": [147, 154, 171, 172, 248], "slot_index": 0}], "properties": {"showOutputText": false, "horizontal": false}}, {"id": 161, "type": "PreviewImage", "pos": {"0": 2708, "1": 1657}, "size": [210, 246], "flags": {}, "order": 57, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 249}], "outputs": [], "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 160, "type": "OpenposePreprocessor", "pos": {"0": 2652, "1": 1431}, "size": {"0": 315, "1": 150}, "flags": {}, "order": 46, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 248}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [249, 250], "slot_index": 0}, {"name": "POSE_KEYPOINT", "type": "POSE_KEYPOINT", "links": null}], "properties": {"Node name for S&R": "OpenposePreprocessor"}, "widgets_values": ["enable", "enable", "enable", 512]}, {"id": 155, "type": "ControlNetLoader", "pos": {"0": 2651.175537109375, "1": 1032.0533447265625}, "size": {"0": 315, "1": 58}, "flags": {}, "order": 24, "mode": 0, "inputs": [], "outputs": [{"name": "CONTROL_NET", "type": "CONTROL_NET", "links": [239], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "ControlNetLoader"}, "widgets_values": ["openpose/OpenPoseXL2.safetensors"]}, {"id": 157, "type": "ControlNetApplyAdvanced", "pos": {"0": 2189, "1": 1041}, "size": {"0": 315, "1": 186}, "flags": {}, "order": 56, "mode": 0, "inputs": [{"name": "positive", "type": "CONDITIONING", "link": 228}, {"name": "negative", "type": "CONDITIONING", "link": 261}, {"name": "control_net", "type": "CONTROL_NET", "link": 231}, {"name": "image", "type": "IMAGE", "link": 234}, {"name": "vae", "type": "VAE", "link": 236, "shape": 7}], "outputs": [{"name": "positive", "type": "CONDITIONING", "links": [256], "slot_index": 0}, {"name": "negative", "type": "CONDITIONING", "links": [], "slot_index": 1}], "properties": {"Node name for S&R": "ControlNetApplyAdvanced"}, "widgets_values": [0.85, 0, 1]}, {"id": 156, "type": "ControlNetApplyAdvanced", "pos": {"0": 1712, "1": 1037}, "size": {"0": 315, "1": 186}, "flags": {}, "order": 54, "mode": 0, "inputs": [{"name": "positive", "type": "CONDITIONING", "link": 227}, {"name": "negative", "type": "CONDITIONING", "link": 260}, {"name": "control_net", "type": "CONTROL_NET", "link": 232}, {"name": "image", "type": "IMAGE", "link": 233}, {"name": "vae", "type": "VAE", "link": 235, "shape": 7}], "outputs": [{"name": "positive", "type": "CONDITIONING", "links": [255], "slot_index": 0}, {"name": "negative", "type": "CONDITIONING", "links": [], "slot_index": 1}], "properties": {"Node name for S&R": "ControlNetApplyAdvanced"}, "widgets_values": [0.85, 0, 1]}, {"id": 163, "type": "ImpactCombineConditionings", "pos": {"0": 1649, "1": 762}, "size": {"0": 220, "1": 86}, "flags": {}, "order": 62, "mode": 0, "inputs": [{"name": "conditioning1", "type": "CONDITIONING", "link": 255}, {"name": "conditioning2", "type": "CONDITIONING", "link": 256}, {"name": "conditioning3", "type": "CONDITIONING", "link": 264}, {"name": "conditioning4", "type": "CONDITIONING", "link": null}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [258, 259], "slot_index": 0}], "properties": {"Node name for S&R": "ImpactCombineConditionings"}}, {"id": 19, "type": "KSampler", "pos": {"0": 1510, "1": 198}, "size": {"0": 287.2851867675781, "1": 262}, "flags": {}, "order": 67, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 18, "slot_index": 0}, {"name": "positive", "type": "CONDITIONING", "link": 258}, {"name": "negative", "type": "CONDITIONING", "link": 253}, {"name": "latent_image", "type": "LATENT", "link": 166}], "outputs": [{"name": "LATENT", "type": "LATENT", "links": [22], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "KSampler"}, "widgets_values": [401190730368332, "randomize", 5, 2, "dpmpp_sde_gpu", "karras", 0.7000000000000001]}, {"id": 20, "type": "VAEDecode", "pos": {"0": 1543, "1": 513}, "size": {"0": 210, "1": 46}, "flags": {}, "order": 70, "mode": 0, "inputs": [{"name": "samples", "type": "LATENT", "link": 22}, {"name": "vae", "type": "VAE", "link": 23}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [44, 85], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "VAEDecode"}, "widgets_values": []}, {"id": 17, "type": "CLIPTextEncode", "pos": {"0": 404, "1": 740}, "size": {"0": 400, "1": 200}, "flags": {}, "order": 32, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 16}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [95, 227, 228, 262], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": ["blonde hair, perfect nipples, perfect legs, perfect hands, \nstanding with hands behind hed, wearing bikini, Dune theme"]}, {"id": 18, "type": "CLIPTextEncode", "pos": {"0": 390, "1": 988}, "size": {"0": 400, "1": 200}, "flags": {}, "order": 33, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 17}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [96, 253, 254, 260, 261, 263], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": [""]}, {"id": 158, "type": "ControlNetApplyAdvanced", "pos": {"0": 2637.503662109375, "1": 1173.661376953125}, "size": {"0": 315, "1": 186}, "flags": {}, "order": 58, "mode": 0, "inputs": [{"name": "positive", "type": "CONDITIONING", "link": 262}, {"name": "negative", "type": "CONDITIONING", "link": 263}, {"name": "control_net", "type": "CONTROL_NET", "link": 239}, {"name": "image", "type": "IMAGE", "link": 250}, {"name": "vae", "type": "VAE", "link": null, "shape": 7}], "outputs": [{"name": "positive", "type": "CONDITIONING", "links": [264], "slot_index": 0}, {"name": "negative", "type": "CONDITIONING", "links": [252], "slot_index": 1}], "properties": {"Node name for S&R": "ControlNetApplyAdvanced"}, "widgets_values": [1, 0, 1]}], "links": [[16, 16, 1, 17, 0, "CLIP"], [17, 16, 1, 18, 0, "CLIP"], [18, 27, 0, 19, 0, "MODEL"], [22, 19, 0, 20, 0, "LATENT"], [23, 16, 2, 20, 1, "VAE"], [28, 55, 0, 24, 0, "IMAGE"], [29, 16, 0, 27, 0, "MODEL"], [30, 25, 0, 27, 1, "IPADAPTER"], [31, 29, 0, 27, 2, "IMAGE"], [32, 26, 0, 27, 5, "CLIP_VISION"], [33, 28, 0, 27, 6, "INSIGHTFACE"], [43, 37, 0, 36, 0, "IMAGE"], [44, 20, 0, 37, 0, "IMAGE"], [48, 16, 2, 37, 4, "VAE"], [49, 30, 0, 37, 5, "UPSCALE_MODEL"], [60, 48, 0, 47, 0, "IMAGE"], [69, 56, 0, 55, 0, "DAMODEL"], [85, 20, 0, 67, 0, "IMAGE"], [87, 69, 0, 68, 6, "BBOX_DETECTOR"], [95, 17, 0, 68, 4, "CONDITIONING"], [96, 18, 0, 68, 5, "CONDITIONING"], [97, 16, 2, 68, 3, "VAE"], [98, 16, 1, 68, 2, "CLIP"], [100, 68, 0, 72, 0, "IMAGE"], [101, 37, 0, 68, 0, "IMAGE"], [109, 27, 1, 80, 0, "IMAGE"], [147, 107, 0, 66, 0, "IMAGE"], [154, 107, 0, 55, 1, "IMAGE"], [161, 68, 0, 112, 0, "IMAGE"], [166, 114, 0, 19, 3, "LATENT"], [168, 16, 2, 114, 1, "VAE"], [171, 107, 0, 48, 0, "IMAGE"], [172, 107, 0, 114, 0, "IMAGE"], [173, 11, 0, 107, 0, "*"], [176, 27, 0, 37, 1, "MODEL"], [177, 16, 0, 68, 1, "MODEL"], [179, 115, 0, 117, 0, "SAM_MODEL"], [180, 116, 0, 117, 1, "GROUNDING_DINO_MODEL"], [181, 117, 0, 118, 0, "IMAGE"], [182, 120, 0, 119, 1, "CONTROL_NET"], [183, 130, 0, 119, 2, "IMAGE"], [184, 130, 0, 121, 0, "IMAGE"], [185, 122, 0, 123, 1, "CONTROL_NET"], [186, 125, 0, 123, 2, "IMAGE"], [187, 125, 0, 124, 0, "IMAGE"], [188, 126, 0, 125, 0, "IMAGE"], [189, 117, 0, 126, 0, "IMAGE"], [190, 129, 0, 126, 1, "IMAGE"], [191, 126, 0, 127, 0, "IMAGE"], [192, 117, 1, 128, 0, "MASK"], [193, 128, 0, 129, 0, "MASK"], [194, 131, 0, 130, 0, "DAMODEL"], [195, 119, 0, 132, 0, "CONDITIONING"], [196, 123, 0, 132, 1, "CONDITIONING"], [197, 128, 0, 133, 2, "MASK"], [198, 144, 0, 134, 1, "CONDITIONING"], [199, 137, 0, 134, 2, "CONDITIONING"], [200, 133, 0, 134, 3, "LATENT"], [201, 134, 0, 135, 0, "LATENT"], [202, 136, 0, 138, 0, "CONDITIONING"], [203, 139, 0, 138, 1, "CONTROL_NET"], [204, 130, 0, 138, 2, "IMAGE"], [205, 136, 0, 141, 0, "CONDITIONING"], [206, 140, 0, 141, 1, "CONTROL_NET"], [207, 143, 0, 141, 2, "IMAGE"], [208, 143, 0, 142, 0, "IMAGE"], [209, 138, 0, 144, 0, "CONDITIONING"], [210, 141, 0, 144, 1, "CONDITIONING"], [211, 117, 1, 145, 0, "MASK"], [212, 145, 0, 146, 0, "IMAGE"], [213, 147, 0, 149, 0, "SAM_MODEL"], [214, 148, 0, 149, 1, "GROUNDING_DINO_MODEL"], [215, 149, 0, 150, 0, "IMAGE"], [216, 149, 0, 151, 0, "IMAGE"], [217, 154, 0, 151, 1, "IMAGE"], [218, 151, 0, 152, 0, "IMAGE"], [219, 149, 1, 153, 0, "MASK"], [220, 153, 0, 154, 0, "MASK"], [227, 17, 0, 156, 0, "CONDITIONING"], [228, 17, 0, 157, 0, "CONDITIONING"], [231, 45, 0, 157, 2, "CONTROL_NET"], [232, 23, 0, 156, 2, "CONTROL_NET"], [233, 55, 0, 156, 3, "IMAGE"], [234, 48, 0, 157, 3, "IMAGE"], [235, 16, 2, 156, 4, "VAE"], [236, 16, 2, 157, 4, "VAE"], [239, 155, 0, 158, 2, "CONTROL_NET"], [248, 107, 0, 160, 0, "IMAGE"], [249, 160, 0, 161, 0, "IMAGE"], [250, 160, 0, 158, 3, "IMAGE"], [252, 158, 1, 162, 0, "CONDITIONING"], [253, 18, 0, 19, 2, "CONDITIONING"], [254, 18, 0, 37, 3, "CONDITIONING"], [255, 156, 0, 163, 0, "CONDITIONING"], [256, 157, 0, 163, 1, "CONDITIONING"], [258, 163, 0, 19, 1, "CONDITIONING"], [259, 163, 0, 37, 2, "CONDITIONING"], [260, 18, 0, 156, 1, "CONDITIONING"], [261, 18, 0, 157, 1, "CONDITIONING"], [262, 17, 0, 158, 0, "CONDITIONING"], [263, 18, 0, 158, 1, "CONDITIONING"], [264, 158, 0, 163, 2, "CONDITIONING"]], "groups": [{"title": "segmentation", "bounding": [340, 1272, 935, 854], "color": "#3f789e", "font_size": 24, "flags": {}}, {"title": "Face Detailer", "bounding": [2739, -327, 470, 1117], "color": "#3f789e", "font_size": 24, "flags": {}}, {"title": "DepthControlNet", "bounding": [1637, 872, 416, 957], "color": "#3f789e", "font_size": 24, "flags": {}}, {"title": "CannyControlNet", "bounding": [2126, 885, 440, 951], "color": "#3f789e", "font_size": 24, "flags": {}}, {"title": "FaceID", "bounding": [918, -358, 892, 476], "color": "#3f789e", "font_size": 24, "flags": {}}, {"title": "Diffuse", "bounding": [983, 114, 883, 484], "color": "#3f789e", "font_size": 24, "flags": {}}, {"title": "UpScale", "bounding": [2030, -371, 537, 1144], "color": "#3f789e", "font_size": 24, "flags": {}}], "config": {}, "extra": {"groupNodes": {"Diffuse": {"nodes": [{"type": "IPAdapterFaceID", "pos": [3319, -486], "size": {"0": 317.4000244140625, "1": 322}, "flags": {}, "order": 16, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": null, "slot_index": 0}, {"name": "ipadapter", "type": "IPADAPTER", "link": null}, {"name": "image", "type": "IMAGE", "link": null}, {"name": "image_negative", "type": "IMAGE", "link": null}, {"name": "attn_mask", "type": "MASK", "link": null}, {"name": "clip_vision", "type": "CLIP_VISION", "link": null}, {"name": "insightface", "type": "INSIGHTFACE", "link": null}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [], "shape": 3, "slot_index": 0}, {"name": "face_image", "type": "IMAGE", "links": [], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "IPAdapterFaceID"}, "widgets_values": [1, 1, "linear", "concat", 0, 1, "V only"], "index": 0}, {"type": "KSampler", "pos": [3574, -81], "size": {"0": 287.2851867675781, "1": 262}, "flags": {}, "order": 30, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": null, "slot_index": 0}, {"name": "positive", "type": "CONDITIONING", "link": null}, {"name": "negative", "type": "CONDITIONING", "link": null}, {"name": "latent_image", "type": "LATENT", "link": null}], "outputs": [{"name": "LATENT", "type": "LATENT", "links": [], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "KSampler"}, "widgets_values": [21847830896812, "fixed", 5, 2, "dpmpp_sde_gpu", "karras", 1], "index": 1}, {"type": "VAEDecode", "pos": [3902, 282], "size": {"0": 210, "1": 46}, "flags": {}, "order": 31, "mode": 0, "inputs": [{"name": "samples", "type": "LATENT", "link": null}, {"name": "vae", "type": "VAE", "link": null}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "VAEDecode"}, "index": 2}, {"type": "PreviewImage", "pos": [4229, 277], "size": {"0": 199.779052734375, "1": 272.04937744140625}, "flags": {}, "order": 32, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": null}], "properties": {"Node name for S&R": "PreviewImage"}, "index": 3}], "links": [[null, 0, 0, 0, 16, "MODEL"], [null, 0, 0, 1, 25, "IPADAPTER"], [null, 0, 0, 2, 29, "IMAGE"], [null, 0, 0, 5, 26, "CLIP_VISION"], [null, 0, 0, 6, 28, "INSIGHTFACE"], [0, 0, 1, 0, 27, "MODEL"], [null, 0, 1, 1, 63, "CONDITIONING"], [null, 0, 1, 2, 18, "CONDITIONING"], [null, 0, 1, 3, 15, "LATENT"], [1, 0, 2, 0, 19, "LATENT"], [null, 2, 2, 1, 16, "VAE"], [2, 0, 3, 0, 20, "IMAGE"]], "external": [[2, 0, "IMAGE"]]}, "constants": {"nodes": [{"type": "CheckpointLoaderSimple", "pos": [121, 773], "size": {"0": 315, "1": 98}, "flags": {}, "order": 11, "mode": 0, "outputs": [{"name": "MODEL", "type": "MODEL", "links": [], "slot_index": 0}, {"name": "CLIP", "type": "CLIP", "links": [], "slot_index": 1}, {"name": "VAE", "type": "VAE", "links": [], "slot_index": 2}], "properties": {"Node name for S&R": "CheckpointLoaderSimple"}, "widgets_values": ["RealVisXL_V4.0_Lightning.safetensors"], "index": 0}, {"type": "CLIPTextEncode", "pos": [114, 925], "size": {"0": 400, "1": 200}, "flags": {}, "order": 15, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": null}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": ["((masterpiece, best quality)), award winning, 4k, 8k, gorgeous women, super model"], "index": 1}, {"type": "CLIPTextEncode", "pos": [110, 1213], "size": {"0": 400, "1": 200}, "flags": {}, "order": 16, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": null}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": ["text, watermark, underexposed, ugly, jpeg, (worst quality, low quality, lowres, low details, oversaturated, undersaturated, overexposed, grayscale, bw, bad photo, bad art:1.4), (font, username, error, logo, words, letters, digits, autograph, trademark, name:1.2), (blur, blurry, grainy), cropped, out of frame, cut off, jpeg artifacts, out of focus, glitch, duplicate, (amateur:1.3), merging, clipping, mutant, glitch, uncanny, cross eye, broken face, astronaut, helmet, blurry, (jewelry, bad anatomy, Polymastia)"], "index": 2}], "links": [[0, 1, 1, 0, 16, "CLIP"], [0, 1, 2, 0, 16, "CLIP"]], "external": [[0, 0, "MODEL"], [0, 1, "CLIP"], [0, 2, "VAE"], [1, 0, "CONDITIONING"], [2, 0, "CONDITIONING"]]}}}, "version": 0.4}